
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Week 8 - More DOM and AJAX Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../week-09/lesson.html" />
    
    
    <link rel="prev" href="../week-07/lesson.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../others/lesson0.html">
            
                <a href="../../others/lesson0.html">
            
                    
                    Week 0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    HTML/CSS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../html-css/week-01/lesson.html">
            
                <a href="../../html-css/week-01/lesson.html">
            
                    
                    Week 1 - Semantic HTML and CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../html-css/week-02/lesson.html">
            
                <a href="../../html-css/week-02/lesson.html">
            
                    
                    Week 2 - Responsive Web and layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../html-css/week-03/lesson.html">
            
                <a href="../../html-css/week-03/lesson.html">
            
                    
                    Week 3 - ?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    JavaScript I
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../js-core/week-04/lesson.html">
            
                <a href="../../js-core/week-04/lesson.html">
            
                    
                    Week 4 - Hello JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../js-core/week-05/lesson.html">
            
                <a href="../../js-core/week-05/lesson.html">
            
                    
                    Week 5 - Arrays and Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../js-core/week-06/lesson.html">
            
                <a href="../../js-core/week-06/lesson.html">
            
                    
                    Week 6 - Debugging and more Data Structures
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    JavaScript II
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../week-07/lesson.html">
            
                <a href="../week-07/lesson.html">
            
                    
                    Week 7 - In-depth Functions and Intro to DOM
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="lesson.html">
            
                <a href="lesson.html">
            
                    
                    Week 8 - More DOM and AJAX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../week-09/lesson.html">
            
                <a href="../week-09/lesson.html">
            
                    
                    Week 9 - Good Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    JavaScript III
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../js-core-3/week-10/lesson.html">
            
                <a href="../../js-core-3/week-10/lesson.html">
            
                    
                    Week 10 - TDD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../js-core-3/week-11/lesson.html">
            
                <a href="../../js-core-3/week-11/lesson.html">
            
                    
                    Week 11 - ES6 and Promises 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" >
            
                <span>
            
                    
                    Week 12 - Exam?
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Node/DB I
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../node-db/lesson1.html">
            
                <a href="../../node-db/lesson1.html">
            
                    
                    Week 13 - Node and Express 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../node-db/lesson2.html">
            
                <a href="../../node-db/lesson2.html">
            
                    
                    Week 14 - Templating and APIs 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" >
            
                <span>
            
                    
                    Week 15 - Node and Mongo?
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Node/DB II (TBD)
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" >
            
                <span>
            
                    
                    Week 16 - MongoDB
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" >
            
                <span>
            
                    
                    Week 17 - Mongoose
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" >
            
                <span>
            
                    
                    Week 18 - Node/DB Recap
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    React
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" >
            
                <span>
            
                    
                    Week 19 - React 101
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" >
            
                <span>
            
                    
                    Week 20 - State
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" >
            
                <span>
            
                    
                    Week 21 - React-router & Recap
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Other
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" >
            
                <span>
            
                    
                    AWS Workshop 1
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../../others/aws-workshop-2">
            
                <span>
            
                    
                    AWS Workshop 2 - DynamoDB
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../../html-css/coding-101.md">
            
                <span>
            
                    
                    Coding 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../../house-rules.html">
            
                <a href="../../house-rules.html">
            
                    
                    House Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../../PRACTICES.html">
            
                <a href="../../PRACTICES.html">
            
                    
                    Coding Standards and Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../../CONTRIBUTING.html">
            
                <a href="../../CONTRIBUTING.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../../lesson-template.html">
            
                <a href="../../lesson-template.html">
            
                    
                    Lesson Template
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Week 8 - More DOM and AJAX</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><img src="https://img.shields.io/badge/status-draft-darkred.svg" alt=""></p>
<h1 id="js-in-the-browser">JS in the Browser</h1>
<p><strong> What we will learn today?</strong></p>
<ul>
<li>JS in the Browser</li>
<li>DOM</li>
<li>AJAX</li>
</ul>
<hr>
<h2 id="ajax">AJAX</h2>
<h3 id="whats-a-server">What&apos;s a server?</h3>
<p>A device or program that <strong>provides functionality to other programs or devices</strong>. There are database servers, mail servers, game servers, etc.</p>
<p>They can take the form of industrial server farms that provide a service to millions of users (used by Facebook, Google, etc.), to personal servers for storing your files.</p>
<p>The server communicates with <strong>clients</strong>. Clients can be a web browser, a Slack app, your phone, etc.</p>
<p>Client&#x2013;server systems use the <strong>request&#x2013;response model</strong>: a client sends a request to the server, which performs some action and sends a response back to the client, typically with a result or acknowledgement.</p>
<blockquote>
<p>An example: We can use the Slack app (the client) to put our messages or pictures on Slack. The content is stored on the Slack servers and other clients can then also access the pictures.</p>
</blockquote>
<h3 id="http-requests">HTTP requests</h3>
<p>A server stores the data, and the client (other programs or computers) requests data or sends some of its own. But how do they talk to each other?</p>
<p><strong>For the client and the server to communicate they need an established language (a protocol)</strong>. Which is what HTTP (Hypertext Transfer Protocol) is for. It defines the methods you can use to communicate with a server and indicate your desired actions on the resources of the server.</p>
<p>There are two main types of requests: GET and POST.</p>
<blockquote>
<p>With a <strong>GET request</strong> you can ask for specified resource (e.g. show me that Slack photo).</p>
<p>With a <strong>POST request</strong> you can send content to the server to be appended to the web resource (e.g. post a photo on Slack).</p>
</blockquote>
<p>HTTP is the language of the internet. In our case we&apos;re using Javascript, but you can send HTTP requests with other laguages as well.</p>
<h3 id="ajax--asynchronous-javascript-and-xml">AJAX (= Asynchronous JavaScript And XML)</h3>
<p>AJAX is a set of useful methods for implementing client-server communication.</p>
<p><img src="https://www.w3schools.com/xml/ajax.gif" alt="AJAX Diagram" title="AJAX Diagram"></p>
<p>AJAX just uses a combination of:</p>
<blockquote>
<ul>
<li>A browser built-in XMLHttpRequest object (to request data from a web server)</li>
<li>JavaScript and HTML DOM (to display or use the data)</li>
</ul>
</blockquote>
<p><strong>Ajax works behind the scenes, helping the webpage communicate with the server (with GET and POST requests).</strong></p>
<blockquote>
<p>client ----------GET request----------&gt; server returns data to client</p>
<p>client ----------POST request (with content)---------&gt;server updates data with content</p>
</blockquote>
<p>The server holds the data, but it only sends it to the webpage when there&apos;s a request. The request can be sent after the page has loaded, for example when a user clicks a button.</p>
<h3 id="why-ajax">Why Ajax?</h3>
<p>There are other ways you can write HTTP requests, such as using Web sockets. What&apos;s great about AJAX is that it makes it look like magic! The server and the client communicate effortlessly:</p>
<blockquote>
<p>Update a web page without reloading the page
Request data from a server - after the page has loaded
Receive data from a server - after the page has loaded
Send data to a server - in the background</p>
</blockquote>
<h3 id="ajax-example">AJAX Example</h3>
<p>The instant update: we can write code that makes the web page instantly update its contents (without reloading the page).</p>
<p>Let&apos;s try sending some data from Rares&#x2019; phone to the server and see whether it will update the webpage.</p>
<blockquote>
<p><a href="http://zero-point.github.io/" target="_blank">http://zero-point.github.io/</a></p>
</blockquote>
<h3 id="lets-code">Let&apos;s Code!</h3>
<p>How does the code work? Let&apos;s break it down into parts and see what each does.</p>
<h4 id="post-code">POST Code</h4>
<p> ``js
  var request = new XMLHttpRequest();         //creating a request object</p>
<p>  request.onreadystatechange = function() {
    if(request.readyState === 4) {  // check if a response was sent back
      if(request.status === 200) {     // check if request was successful
        textBox.innerHTML = request.responseText;
      } else {
        textBox.innerHTML = &apos;An error occurred during your request: &apos; +  request.status + &apos; &apos; + request.statusText;
      }
    }
  }
  var url = &quot;<a href="http://ajax-cyf.eu-west-1.elasticbeanstalk.com/chatroom/?id=cyf" target="_blank">http://ajax-cyf.eu-west-1.elasticbeanstalk.com/chatroom/?id=cyf</a>&quot;;                                            //server location
  var params = &quot;Here is some content&quot;;         // content we want to send
  request.open(&quot;POST&quot;, url, true);            // adding them to the request</p>
<p>request.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;); //header info
request.send(params);                             // sending the request</p>
<pre class="language-"><code>

#### GET Code

 ``js
  var request = new XMLHttpRequest();         //creating a request object

  request.onreadystatechange = function() {
    if(request.readyState === 4) {  // check if a response was sent back
      if(request.status === 200) {     // check if request was successful
        textBox.innerHTML = request.responseText;
      } else {
        textBox.innerHTML = &apos;An error occurred during your request: &apos; +  request.status + &apos; &apos; + request.statusText;
      }
    }
  }
  var url = &quot;http://ajax-cyf.eu-west-1.elasticbeanstalk.com/chatroom/?id=cyf&quot;;                                        //server location
  request.open(&quot;GET&quot;, url);                    // adding it to the request

request.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;); //header info
request.send();                                 // sending the request
</code></pre><h3 id="ajax-exercise">AJAX Exercise</h3>
<p>Everyone should organise in pairs, one person writing code to <strong>send data (POST)</strong> and one to <strong>receive it (GET)</strong>. Once you&#x2019;ve finished your code, combine it and put it into a html page. Now, try sending each other messages this way.</p>
<p>Don&#x2019;t forget to use a <strong>unique id</strong> at the end of the url (not &apos;cyf&apos;) and let your partner know what it is!</p>
<h1 id="resources">Resources</h1>
<ul>
<li>DOM Examples and explanation on MDN - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Examples" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Examples</a></li>
<li>AJAX - <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" target="_blank">https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started</a></li>
</ul>
<h1 id="homework">Homework</h1>
<ul>
<li>Continue working on <a href="https://github.com/CodeYourFuture/dom-ajax" target="_blank">the repository</a> you forked in this lesson<ul>
<li>Open up <strong>readme.md</strong> and follow the instructions in there.</li>
<li>Submit Pull Request after completing each part.</li>
</ul>
</li>
<li>Follow Intro to AJAX course by udacity - <a href="https://classroom.udacity.com/courses/ud110" target="_blank">https://classroom.udacity.com/courses/ud110</a> (register and signin if you need to)<ul>
<li>Follow the Requests and API lesson</li>
</ul>
</li>
<li>Fork <a href="https://github.com/CodeYourFuture/WebDeveloperTest" target="_blank">this repo</a> and follow the instructions<ul>
<li>This is a project with several deadlines, make sure you understand the requirements very well and start as soon as possible. Also communicate regularly using both <strong>email</strong> and Slack.</li>
</ul>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../week-07/lesson.html" class="navigation navigation-prev " aria-label="Previous page: Week 7 - In-depth Functions and Intro to DOM">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../week-09/lesson.html" class="navigation navigation-next " aria-label="Next page: Week 9 - Good Code">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Week 8 - More DOM and AJAX","level":"1.5.2","depth":2,"next":{"title":"Week 9 - Good Code","level":"1.5.3","depth":2,"path":"js-core-2/week-09/lesson.md","ref":"js-core-2/week-09/lesson.md","articles":[]},"previous":{"title":"Week 7 - In-depth Functions and Intro to DOM","level":"1.5.1","depth":2,"path":"js-core-2/week-07/lesson.md","ref":"js-core-2/week-07/lesson.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["prism","-highlight"],"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"js-core-2/week-08/lesson.md","mtime":"2017-11-18T10:59:40.554Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-18T11:00:58.928Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

